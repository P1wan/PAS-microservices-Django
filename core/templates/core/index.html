{% extends 'core/base.html' %}

{% block title %}In√≠cio - PAS Gateway{% endblock %}

{% block content %}
<div class="card">
    <h2>Bem-vindo ao PAS Gateway</h2>
    <p style="color: #6c757d; margin-bottom: 20px;">
        Sistema monol√≠tico que funciona como fachada/API Gateway para tr√™s microsservi√ßos 
        acad√™micos (Discente, Disciplina e Biblioteca).
    </p>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
    <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <h3 style="color: white;">üë®‚Äçüéì Consultar Discente</h3>
        <p style="opacity: 0.9; margin-bottom: 20px;">
            Busque informa√ß√µes de discentes pelo ID
        </p>
        <form method="post" action="{% url 'core:discentes_list' %}">
            {% csrf_token %}
            <div class="form-group">
                <input type="number" name="discente_id" placeholder="ID do Discente" 
                       required style="background: white;">
            </div>
            <button type="submit" class="btn btn-secondary" style="width: 100%;">
                üîç Buscar Discente
            </button>
        </form>
    </div>
    
    <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
        <h3 style="color: white;">üìö Simular Matr√≠cula</h3>
        <p style="opacity: 0.9; margin-bottom: 20px;">
            Matricule um discente em uma disciplina
        </p>
        <form method="post" action="{% url 'core:matricular' %}">
            {% csrf_token %}
            <div class="form-group">
                <input type="number" name="discente_id" placeholder="ID do Discente" 
                       required style="background: white;">
            </div>
            <div class="form-group">
                <input type="number" name="disciplina_id" placeholder="ID da Disciplina" 
                       required style="background: white;">
            </div>
            <button type="submit" class="btn btn-success" style="width: 100%;">
                ‚úÖ Matricular
            </button>
        </form>
    </div>
    
    <div class="card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white;">
        <h3 style="color: white;">üìñ Reservar Livro</h3>
        <p style="opacity: 0.9; margin-bottom: 20px;">
            Reserve um livro do acervo
        </p>
        <form method="post" action="{% url 'core:reservar_livro' %}">
            {% csrf_token %}
            <div class="form-group">
                <input type="number" name="discente_id" placeholder="ID do Discente" 
                       required style="background: white;">
            </div>
            <div class="form-group">
                <input type="number" name="livro_id" placeholder="ID do Livro" 
                       required style="background: white;">
            </div>
            <button type="submit" class="btn btn-success" style="width: 100%;">
                üìö Reservar
            </button>
        </form>
    </div>
</div>

<div class="card">
    <h3>üìã Funcionalidades Dispon√≠veis</h3>
    <ul style="line-height: 2; color: #495057;">
        <li><strong>Consulta de Dados:</strong> Visualize discentes, disciplinas e livros dos microsservi√ßos externos</li>
        <li><strong>Simula√ß√£o de Matr√≠cula:</strong> Matricule discentes em disciplinas (m√°ximo 5 simult√¢neas)</li>
        <li><strong>Simula√ß√£o de Reserva:</strong> Reserve livros dispon√≠veis do acervo</li>
        <li><strong>Cancelamentos:</strong> Cancele matr√≠culas e reservas simuladas</li>
        <li><strong>Valida√ß√µes:</strong> Todas as regras de neg√≥cio s√£o validadas automaticamente</li>
    </ul>
</div>

<div class="card" style="background: #f8f9fa;">
    <h3>‚öôÔ∏è Arquitetura do Sistema</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
        <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea;">
            <strong>Model</strong>
            <p style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">
                Discente, Disciplina, Livro, MatriculaSimulada, ReservaSimulada
            </p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #764ba2;">
            <strong>View (Controller)</strong>
            <p style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">
                Coordena requisi√ß√µes e delega para Services
            </p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #f093fb;">
            <strong>Template (View)</strong>
            <p style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">
                Apresenta√ß√£o HTML/CSS para o usu√°rio
            </p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #4facfe;">
            <strong>Services</strong>
            <p style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">
                Regras de neg√≥cio (Enrollment, Reservation, Lookup)
            </p>
        </div>
        <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #00f2fe;">
            <strong>Gateways</strong>
            <p style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">
                Integra√ß√£o HTTP com microsservi√ßos externos (AWS)
            </p>
        </div>
    </div>
</div>

<div class="card">
    <h3>üîó Microsservi√ßos Integrados</h3>
    <table>
        <thead>
            <tr>
                <th>Servi√ßo</th>
                <th>Dom√≠nio</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>msAluno</strong></td>
                <td>Discentes</td>
                <td><span class="badge badge-success">Ativo</span></td>
            </tr>
            <tr>
                <td><strong>msDisciplina</strong></td>
                <td>Disciplinas</td>
                <td><span class="badge badge-success">Ativo</span></td>
            </tr>
            <tr>
                <td><strong>biblioteca</strong></td>
                <td>Acervo de Livros</td>
                <td><span class="badge badge-success">Ativo</span></td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}
